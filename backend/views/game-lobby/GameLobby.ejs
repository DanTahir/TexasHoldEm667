<html>
  <head>
    <link rel="stylesheet" href="/css/poker-table.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <script src="/js/index.js" type="text/javascript" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const seats = document.querySelectorAll(".seat");

        // Loop through each seat and add a click event listener to the button
        seats.forEach(function (seat) {
          const button = seat.querySelector("button");
          button.addEventListener("click", function () {
            const currentTextContent = this.textContent;

            if (currentTextContent === "Join") {
              return (this.textContent = "Waiting");
            }

            this.textContent = "Join";
          });
        });
      });
    </script>
  </head>

  <body class="scrollbar-hide">

    <div class="game-container">

      <div class="game-lobby">

        <div class="poker-table-container">

          <%- include("./PokerTable.ejs") %>

          <div class="actions-grid">
            <div class="seat action-1">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>

            <div class="seat action-2">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>

            <div class="seat action-3">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>

            <div class="seat action-4">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>

            <div class="seat action-5">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>

            <div class="seat action-6">
              <%- include("../partials/Button.ejs", {buttonText: "Join"}) %>
            </div>
          </div>
        </div>

        <div class="game-name"><%= gameName %></div>

        <div class="game-interactions">
          <div class="left-interactions">
            <div class="bet-amount">
              <label for="bet-amount">Bet: </label>
              <input
                id="bet-amount"
                name="bet-amount"
                type="text"
                placeholder="Amount"
              />
            </div>

            <div class="quit-button">
              <%- include("../partials/Button.ejs", {buttonText: "Quit Game"}) %>
            </div>
          </div>

          <div class="right-interactions">
            <div class="call-check-button">
              <%- include("../partials/Button.ejs", {buttonText: "Call/Check"}) %>
            </div>

            <div class="raise-button">
              <%- include("../partials/Button.ejs", {buttonText: "Raise"})
              %>
            </div>

            <div class="fold-button">
              <%- include("../partials/Button.ejs", {buttonText: "Fold"}) %>
            </div>
          </div>
        </div>
      </div>

      <div class="chat-box">
        <%- include("../partials/Chat.ejs", {roomID: id}) %>
      </div>
    </div>
  </body>
</html>
